<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Cyber Terminal</title>
    <style>
        :root {
            --neon: #00ff41;
            --bg: #0d0208;
            --sec: #003b00;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            background-color: var(--bg);
            color: var(--neon);
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            overflow-x: hidden;
            padding-bottom: 100px;
        }
       .matrix-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0, 255, 65, 0.05) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(0, 255, 65, 0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -1;
        }
       .header {
            padding: 20px; text-align: center; border-bottom: 2px solid var(--neon);
            text-shadow: 0 0 10px var(--neon);
        }
       .tabs {
            display: flex; overflow-x: auto; background: var(--sec);
            position: sticky; top: 0; z-index: 10;
        }
       .tab-btn {
            padding: 15px 25px; border: none; background: none;
            color: var(--neon); cursor: pointer; white-space: nowrap;
            font-weight: bold; border-right: 1px solid var(--neon);
        }
       .tab-btn.active { background: var(--neon); color: var(--bg); }
        
       .content { padding: 15px; }
       .grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
        
       .card {
            border: 1px solid var(--neon); padding: 15px;
            background: rgba(0, 59, 0, 0.2); border-radius: 5px;
            transition: 0.3s;
        }
       .card:active { background: var(--sec); transform: scale(0.98); }
       .card h3 { margin-top: 0; font-size: 1.2rem; }
       .card p { font-size: 0.9rem; opacity: 0.8; }
        
       .status-bar {
            position: fixed; bottom: 0; width: 100%;
            background: var(--sec); padding: 10px; font-size: 0.8rem;
            border-top: 1px solid var(--neon);
        }
       .log-area {
            height: 100px; overflow-y: auto; background: #000;
            padding: 10px; margin-top: 10px; border: 1px solid var(--neon);
            font-size: 0.7rem; color: #00ff41;
        }
       .cmd-btn {
            margin-top: 10px; width: 100%; padding: 10px;
            background: none; border: 1px solid var(--neon);
            color: var(--neon); font-family: inherit; cursor: pointer;
        }
       .cmd-btn:hover { background: var(--neon); color: #000; }
    </style>
</head>
<body>
    <div class="matrix-bg"></div>
    <div class="header">
        <h1>ACCESS GRANTED</h1>
        <div id="user-info">ID: UNKNOWN</div>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="showTab('vulner')">ВЗЛОМ</button>
        <button class="tab-btn" onclick="showTab('network')">СЕТЬ</button>
        <button class="tab-btn" onclick="showTab('crypto')">КРИПТО</button>
        <button class="tab-btn" onclick="showTab('system')">СИСТЕМА</button>
    </div>

    <div class="content" id="app-content">
        </div>

    <div class="status-bar">
        <div>TERMINAL_STATUS: ACTIVE</div>
        <div class="log-area" id="logs">
            > Initializing system...<br>
            > Loading modules...<br>
            > Connection established.<br>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        
        // Огромная база данных модулей
        const modules = {
            vulner:,
            network:,
            crypto:,
            system:
        };

        function addLog(msg) {
            const logs = document.getElementById('logs');
            logs.innerHTML += `> ${msg}<br>`;
            logs.scrollTop = logs.scrollHeight;
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            const container = document.getElementById('app-content');
            container.innerHTML = `<div class="grid"></div>`;
            const grid = container.querySelector('.grid');
            
            modules[tabName].forEach(m => {
                grid.innerHTML += `
                    <div class="card" onclick="execute('${m.name}', '${m.cmd}')">
                        <h3>${m.name}</h3>
                        <p>${m.desc}</p>
                        <button class="cmd-btn">ЗАПУСТИТЬ</button>
                    </div>
                `;
            });
            addLog(`Переход в раздел: ${tabName.toUpperCase()}`);
        }

        function execute(name, cmd) {
            addLog(`Запуск модуля: ${name}...`);
            addLog(`Команда отправлена на сервер...`);
            
            // Настраиваем главную кнопку Telegram для подтверждения 
            tg.MainButton.setText(`ПОДТВЕРДИТЬ: ${name}`);
            tg.MainButton.show();
            tg.MainButton.onClick(() => {
                // Отправляем JSON боту [3, 4]
                const data = JSON.stringify({
                    module: name,
                    command: cmd,
                    timestamp: new Date().toLocaleTimeString()
                });
                tg.sendData(data);
            });
        }

        // Инициализация при загрузке
        if (tg.initDataUnsafe.user) {
            document.getElementById('user-info').innerText = `ID: ${tg.initDataUnsafe.user.id} (${tg.initDataUnsafe.user.first_name})`;
        }
        showTab('vulner');
    </script>
</body>
</html>
